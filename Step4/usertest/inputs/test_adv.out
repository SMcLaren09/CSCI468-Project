var newapprox
var enough
var diff
var count
var approx
var num
var tolerance
label main
move 0.0001 r1
move r1 tolerance
move 7.0 r2
move r2 num
move num r0
move r0 approx
move 0 r3
move r3 count
move 0.0 r4
move r4 diff
move 0 r5
move r5 enough
move 1 r6
label label1
cmpi enough r6
jeq label2
move 1 r7
move count r8
addi r7 r8
move r8 count
move num r9
divr approx r9
move approx r10
addr r9 r10
move 0.5 r11
move r11 r12
mulr r10 r12
move r12 newapprox
move approx r13
subr newapprox r13
move r13 diff
move 0.0 r14
cmpr diff r14
jle label3
move tolerance r0
cmpr diff r0
jge label4
move 1 r15
move r15 enough
label label4
jmp label5
label label3
move 0.0 r16
move r16 r17
subr tolerance r17
cmpr diff r17
jle label6
move 1 r18
move r18 enough
label label6
label label5
move newapprox r0
move r0 approx
jmp label1
label label2
sys writer approx
sys writei count
sys halt

